<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.5">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;html lang="en"&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;head&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;GUILTY - Daily Detective Mystery&lt;/title&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&amp;display=swap');</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>* {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>box-sizing: border-box;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>:root {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--primary: #6366f1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--primary-dark: #4f46e5;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--success: #22c55e;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--warning: #f59e0b;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--danger: #ef4444;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--bg-dark: #0f172a;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--bg-medium: #1e293b;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--bg-light: #334155;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--text-primary: #f8fafc;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--text-secondary: #cbd5e1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--text-muted: #94a3b8;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--border: #475569;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--glass: rgba(255, 255, 255, 0.05);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--glass-border: rgba(255, 255, 255, 0.1);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-accent: #6366f1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-gradient-start: #6366f1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-gradient-end: #a855f7;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>body {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--bg-dark);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--text-primary);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>min-height: 100vh;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow-x: hidden;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Animated background */</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.background-animation {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: fixed;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>top: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>left: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 100%;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 100%;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>z-index: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>opacity: 0.3;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: radial-gradient(circle at 20% 50%, var(--theme-gradient-start) 0%, transparent 50%),</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>radial-gradient(circle at 80% 80%, var(--theme-gradient-end) 0%, transparent 50%),</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>radial-gradient(circle at 40% 20%, var(--theme-accent) 0%, transparent 50%);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>filter: blur(100px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>animation: backgroundShift 20s ease-in-out infinite;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>@keyframes backgroundShift {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>0%, 100% { transform: rotate(0deg) scale(1); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>33% { transform: rotate(120deg) scale(1.1); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>66% { transform: rotate(240deg) scale(0.9); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.container {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>max-width: 1400px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 0 auto;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 20px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>z-index: 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Header */</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.header {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>text-align: center;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 40px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 30px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--glass);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>backdrop-filter: blur(20px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid var(--glass-border);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 24px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow: hidden;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>animation: fadeInDown 0.6s ease-out;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.header::before {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>content: '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: absolute;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>top: -50%;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>left: -50%;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 200%;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 200%;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: rotate(45deg);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>animation: shimmer 3s ease-in-out infinite;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>@keyframes shimmer {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>100% { transform: translateX(100%) translateY(100%) rotate(45deg); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>@keyframes fadeInDown {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>from {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>opacity: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>transform: translateY(-20px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>to {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>opacity: 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>transform: translateY(0);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>h1 {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 3.5em;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: 800;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: linear-gradient(135deg, var(--theme-gradient-start), var(--theme-gradient-end));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>-webkit-background-clip: text;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>-webkit-text-fill-color: transparent;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 10px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>letter-spacing: -0.02em;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>z-index: 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.header .subtitle {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--text-secondary);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 1.1em;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>z-index: 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Main menu */</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.main-menu {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>max-width: 600px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 0 auto;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 50px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--glass);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>backdrop-filter: blur(20px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid var(--glass-border);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 24px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>animation: fadeInUp 0.6s ease-out;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>@keyframes fadeInUp {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>from {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>opacity: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>transform: translateY(20px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>to {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>opacity: 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>transform: translateY(0);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.puzzle-info {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--bg-medium);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 20px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 16px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 20px 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid var(--border);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.puzzle-number {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 0.9em;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--text-muted);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 5px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.next-puzzle-timer {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: center;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gap: 10px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-top: 15px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 0.9em;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--text-secondary);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.timer-digit {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--bg-light);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 8px 12px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 8px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: 600;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>min-width: 40px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>text-align: center;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Buttons */</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: linear-gradient(135deg, var(--theme-gradient-start), var(--theme-gradient-end));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: white;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: none;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 18px 36px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 16px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: 600;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 12px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>cursor: pointer;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>text-transform: uppercase;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>letter-spacing: 0.05em;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow: hidden;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn::before {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>content: '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: absolute;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>top: 50%;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>left: 50%;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: rgba(255, 255, 255, 0.3);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 50%;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: translate(-50%, -50%);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: width 0.6s, height 0.6s;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn:hover::before {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 300px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 300px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn:hover {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: translateY(-2px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 10px 30px rgba(99, 102, 241, 0.3);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn:active {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: translateY(0);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Difficulty select */</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.difficulty-select {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 100%;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 16px 20px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--bg-medium);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 2px solid var(--border);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 12px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--text-primary);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 16px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 20px 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>cursor: pointer;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: all 0.3s ease;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.difficulty-select:hover {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-color: var(--primary);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.difficulty-select:focus {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>outline: none;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-color: var(--primary);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Game screen */</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.game-screen {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>display: none;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>animation: fadeIn 0.6s ease-out;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>@keyframes fadeIn {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>from { opacity: 0; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>to { opacity: 1; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Crime box */</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.crime-box {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--glass);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>backdrop-filter: blur(20px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid var(--glass-border);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 35px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 24px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 30px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow: hidden;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.crime-box::after {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>content: '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: absolute;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>top: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>right: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 150px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 150px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--theme-icon);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>opacity: 0.1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>mask-image: var(--theme-icon);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>mask-size: contain;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>mask-repeat: no-repeat;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>mask-position: center;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.crime-box h2 {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 2em;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 15px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--text-primary);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.crime-box p {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 1.1em;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>line-height: 1.6;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--text-secondary);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Game stats */</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.game-stats {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gap: 20px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 30px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>flex-wrap: wrap;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.stat-item {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--glass);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>backdrop-filter: blur(20px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid var(--glass-border);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 15px 25px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 16px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gap: 10px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>flex: 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>min-width: 200px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.stat-icon {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 40px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 40px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: linear-gradient(135deg, var(--theme-gradient-start), var(--theme-gradient-end));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 12px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: center;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 1.2em;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.stat-content {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>flex: 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.stat-label {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 0.85em;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--text-muted);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 2px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.stat-value {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 1.3em;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: 700;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--text-primary);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Initial suspect */</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.initial-suspect-section {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--glass);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>backdrop-filter: blur(20px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid var(--glass-border);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 30px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 24px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 30px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>animation: slideInLeft 0.6s ease-out;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>@keyframes slideInLeft {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>from {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>opacity: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>transform: translateX(-20px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>to {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>opacity: 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>transform: translateX(0);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.initial-suspect-traits {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>display: grid;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gap: 20px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 25px 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.initial-trait {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 20px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 16px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 2px solid transparent;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow: hidden;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: all 0.3s ease;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.initial-trait::before {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>content: '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: absolute;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>top: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>left: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>right: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>bottom: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: inherit;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>opacity: 0.1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>z-index: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.initial-trait &gt; * {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>z-index: 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.initial-trait.green {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: rgba(34, 197, 94, 0.15);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-color: var(--success);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.initial-trait.yellow {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: rgba(245, 158, 11, 0.15);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-color: var(--warning);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.initial-trait.gray {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: rgba(148, 163, 184, 0.15);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-color: var(--text-muted);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.initial-trait:hover {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: translateY(-2px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Color legend */</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.color-legend {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gap: 25px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: center;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 25px 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>flex-wrap: wrap;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.legend-item {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gap: 10px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 10px 20px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--bg-medium);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 12px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: all 0.3s ease;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.legend-item:hover {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: translateY(-2px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--bg-light);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.color-box {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 24px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 24px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 8px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.color-box::after {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>content: '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: absolute;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>top: -2px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>left: -2px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>right: -2px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>bottom: -2px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 10px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: inherit;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>opacity: 0.3;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>filter: blur(4px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.color-box.green { background: var(--success); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.color-box.yellow { background: var(--warning); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.color-box.gray { background: var(--text-muted); }</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Trait guide */</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.trait-guide-section {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--glass);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>backdrop-filter: blur(20px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid var(--glass-border);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 30px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 24px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 30px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>animation: slideInRight 0.6s ease-out;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>@keyframes slideInRight {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>from {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>opacity: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>transform: translateX(20px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>to {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>opacity: 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>transform: translateX(0);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.trait-guide-item {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 30px 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.trait-guide-title {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: 600;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--text-primary);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 15px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 1.1em;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.trait-spectrum {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: space-between;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 15px 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.trait-spectrum::before {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>content: '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: absolute;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>top: 50%;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>left: 10px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>right: 10px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 4px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: linear-gradient(90deg, var(--border), var(--primary), var(--border));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 2px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>z-index: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.trait-value {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--bg-medium);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 8px 16px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 12px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 2px solid var(--border);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 0.9em;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: 500;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>z-index: 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>cursor: pointer;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.trait-value:hover {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: translateY(-4px) scale(1.05);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-color: var(--primary);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--bg-light);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 8px 20px rgba(99, 102, 241, 0.3);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.trait-arrow {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: absolute;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>top: -25px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>left: 50%;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: translateX(-50%);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 0.8em;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--primary);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: bold;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>opacity: 0.7;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Suspects grid */</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>#suspectsGrid {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>display: grid;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gap: 25px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 30px 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.suspect-card {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--glass);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>backdrop-filter: blur(20px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid var(--glass-border);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 25px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 20px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow: hidden;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>animation: cardAppear 0.6s ease-out;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>animation-fill-mode: both;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>@keyframes cardAppear {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>from {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>opacity: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>transform: translateY(20px) scale(0.95);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>to {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>opacity: 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>transform: translateY(0) scale(1);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.suspect-card::before {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>content: '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: absolute;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>top: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>left: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>right: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>bottom: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: linear-gradient(135deg, transparent, rgba(255,255,255,0.05));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>opacity: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: opacity 0.3s ease;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.suspect-card:hover::before {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>opacity: 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.suspect-card:hover:not(.disabled):not(.eliminated) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: translateY(-8px) scale(1.02);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-color: var(--primary);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.suspect-card.disabled {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>opacity: 0.6;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: scale(0.98);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.suspect-card.eliminated {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>opacity: 0.3;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>filter: grayscale(100%) blur(1px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: scale(0.95);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.suspect-name {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 1.4em;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: 700;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--text-primary);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 5px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.suspect-job {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--primary);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 20px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: 500;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.trait-item {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: space-between;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 10px 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 12px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--bg-medium);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 10px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: all 0.2s ease;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.trait-item:hover {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--bg-light);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: translateX(5px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.suspect-actions {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gap: 12px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-top: 20px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.suspect-button {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>flex: 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 12px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: none;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 10px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>cursor: pointer;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: 600;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>text-transform: uppercase;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 0.85em;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>letter-spacing: 0.05em;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow: hidden;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.suspect-button::before {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>content: '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: absolute;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>top: 50%;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>left: 50%;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: rgba(255, 255, 255, 0.2);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 50%;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: translate(-50%, -50%);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: width 0.6s, height 0.6s;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.suspect-button:hover::before {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 200px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 200px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.accuse-btn {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: linear-gradient(135deg, #ef4444, #dc2626);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: white;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.accuse-btn:hover {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: translateY(-2px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 8px 20px rgba(239, 68, 68, 0.4);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.exonerate-btn {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: linear-gradient(135deg, var(--primary), var(--primary-dark));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: white;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.exonerate-btn:hover {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: translateY(-2px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 8px 20px rgba(99, 102, 241, 0.4);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Game board */</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.game-board {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--glass);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>backdrop-filter: blur(20px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid var(--glass-border);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 25px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 24px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 30px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>min-height: 120px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.guess-row {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gap: 25px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 20px 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 20px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--bg-medium);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 16px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>animation: guessAppear 0.5s ease-out;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow: hidden;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>@keyframes guessAppear {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>from {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>opacity: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>transform: translateX(-20px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>to {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>opacity: 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>transform: translateX(0);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.guess-row::before {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>content: '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: absolute;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>top: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>left: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 4px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 100%;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: linear-gradient(to bottom, var(--primary), var(--primary-dark));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 2px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.guess-feedback {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gap: 15px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>flex-wrap: wrap;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>flex: 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.trait-feedback {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 12px 18px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 12px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>text-align: center;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>min-width: 140px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: 500;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: all 0.3s ease;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>animation: feedbackPop 0.4s ease-out;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>@keyframes feedbackPop {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>0% {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>transform: scale(0);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>opacity: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>50% {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>transform: scale(1.1);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>100% {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>transform: scale(1);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>opacity: 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.trait-feedback.correct {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: linear-gradient(135deg, #22c55e, #16a34a);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: white;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 4px 15px rgba(34, 197, 94, 0.3);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.trait-feedback.close {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: linear-gradient(135deg, #f59e0b, #d97706);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: white;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.trait-feedback.wrong {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--bg-light);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--text-secondary);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid var(--border);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Game over */</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.game-over {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>text-align: center;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 50px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: var(--glass);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>backdrop-filter: blur(20px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid var(--glass-border);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 24px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-top: 30px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>animation: gameOverAppear 0.6s ease-out;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>@keyframes gameOverAppear {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>from {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>opacity: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>transform: scale(0.9);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>to {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>opacity: 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>transform: scale(1);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.game-over.won {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 2px solid var(--success);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(34, 197, 94, 0.05));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.game-over.lost {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 2px solid var(--danger);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(239, 68, 68, 0.05));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>#gameOverTitle {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 3em;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 20px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: 800;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.game-over.won #gameOverTitle {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: linear-gradient(135deg, #22c55e, #16a34a);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>-webkit-background-clip: text;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>-webkit-text-fill-color: transparent;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.game-over.lost #gameOverTitle {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: linear-gradient(135deg, #ef4444, #dc2626);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>-webkit-background-clip: text;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>-webkit-text-fill-color: transparent;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Developer tools */</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.dev-tools {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>position: fixed;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>bottom: 20px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>right: 20px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: rgba(0, 0, 0, 0.95);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: white;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 25px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 16px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>z-index: 9999;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>max-width: 450px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid rgba(255, 255, 255, 0.1);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>backdrop-filter: blur(20px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.dev-tools h3 {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 20px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #22c55e;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: 'Courier New', monospace;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 1.2em;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.dev-tools button {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: #1e293b;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #22c55e;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid #22c55e;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 10px 18px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 5px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>cursor: pointer;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 8px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: 'Courier New', monospace;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: all 0.3s ease;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.dev-tools button:hover {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: #22c55e;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #0f172a;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: translateY(-2px);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.ai-results {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-top: 20px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 20px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>background: #0f172a;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 8px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: 'Courier New', monospace;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 13px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>white-space: pre-wrap;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>max-height: 450px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow-y: auto;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid #1e293b;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Responsive design */</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>@media (max-width: 768px) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>h1 {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>font-size: 2.5em;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>.container {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>padding: 15px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>.main-menu {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>padding: 30px 20px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>#suspectsGrid {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>grid-template-columns: 1fr;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>.game-stats {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>flex-direction: column;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>.stat-item {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>min-width: unset;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Loading animation */</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.loading {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>display: inline-block;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 20px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 20px;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 3px solid rgba(255, 255, 255, 0.3);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 50%;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>border-top-color: white;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>animation: spin 1s ease-in-out infinite;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>@keyframes spin {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>to { transform: rotate(360deg); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Theme-specific styling classes */</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.theme-museum {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-gradient-start: #6366f1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-gradient-end: #a855f7;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-accent: #8b5cf6;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.theme-tech {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-gradient-start: #06b6d4;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-gradient-end: #3b82f6;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-accent: #0ea5e9;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.theme-nature {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-gradient-start: #22c55e;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-gradient-end: #10b981;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-accent: #16a34a;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.theme-space {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-gradient-start: #6366f1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-gradient-end: #ec4899;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-accent: #a855f7;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.theme-ocean {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-gradient-start: #0891b2;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-gradient-end: #6366f1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-accent: #0e7490;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.theme-kitchen {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-gradient-start: #f59e0b;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-gradient-end: #ef4444;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-accent: #f97316;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.theme-school {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-gradient-start: #a855f7;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-gradient-end: #ec4899;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-accent: #d946ef;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.theme-zoo {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-gradient-start: #f97316;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-gradient-end: #dc2626;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>--theme-accent: #ea580c;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;/head&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;body&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="background-animation"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="container"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="header"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h1&gt;🔍 GUILTY 🔍&lt;/h1&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="subtitle"&gt;Daily Detective Mystery&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div id="main-menu" class="main-menu"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h2&gt;Welcome, Detective&lt;/h2&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="puzzle-info"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="puzzle-number" id="puzzleNumber"&gt;Loading...&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h3 id="dailyTheme"&gt;Today's Mystery&lt;/h3&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p id="themeDescription"&gt;Loading theme...&lt;/p&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;select id="difficulty-select" class="difficulty-select"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;option value="easy"&gt;Easy (8 guesses)&lt;/option&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;option value="medium" selected&gt;Medium (6 guesses)&lt;/option&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;option value="hard"&gt;Hard (4 guesses)&lt;/option&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/select&gt;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button id="start-game" class="btn"&gt;Start Investigation&lt;/button&gt;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="next-puzzle-timer"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span&gt;Next puzzle in:&lt;/span&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span class="timer-digit" id="hours"&gt;00&lt;/span&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span&gt;:&lt;/span&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span class="timer-digit" id="minutes"&gt;00&lt;/span&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span&gt;:&lt;/span&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span class="timer-digit" id="seconds"&gt;00&lt;/span&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div id="game-screen" class="game-screen"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="crime-box"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h2 id="crimeTitle"&gt;Loading...&lt;/h2&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p id="crimeDescription"&gt;Loading crime details...&lt;/p&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="game-stats"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="stat-item"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="stat-icon"&gt;⏱️&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="stat-content"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="stat-label"&gt;Time&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="stat-value" id="timerDisplay"&gt;0:00&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="stat-item"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="stat-icon"&gt;🎯&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="stat-content"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="stat-label"&gt;Guesses&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="stat-value" id="guessDisplay"&gt;0/6&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="stat-item"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="stat-icon"&gt;🔍&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="stat-content"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="stat-label"&gt;Viable Suspects&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="stat-value" id="viableDisplay"&gt;-&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="gameBoard" class="game-board"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="suspectsSection"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="suspectsGrid"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="gameOver" class="game-over" style="display: none;"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h2 id="gameOverTitle"&gt;&lt;/h2&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="gameOverMessage"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button onclick="location.reload()" class="btn"&gt;New Game&lt;/button&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- Developer Tools --&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="devTools" class="dev-tools" style="display: none;"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;h3&gt;Developer Tools&lt;/h3&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;button onclick="runAIAnalysis()"&gt;Run AI Analysis (200 games)&lt;/button&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;button onclick="showCulprit()"&gt;Show Culprit&lt;/button&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;button onclick="runQuickTest()"&gt;Quick Test (20 games)&lt;/button&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;button onclick="forceNewTheme()"&gt;Force New Theme&lt;/button&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div id="aiResults" class="ai-results"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script&gt;</p>
<p class="p2"><br></p>
<p class="p1">// GUILTY Game - Modern Edition with Daily Themes</p>
<p class="p2"><br></p>
<p class="p1">(function() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>'use strict';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Game state</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>let gameState = {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>culprit: null,</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>suspects: [],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>initialSuspect: null,</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>guesses: [],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>currentGuess: 0,</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>gameOver: false,</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>won: false,</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>difficulty: 'medium',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>startTime: null,</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>timerInterval: null,</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>eliminatedSuspects: new Set(),</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>perfectScore: 3,</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>optimalScore: 4,</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>currentTheme: null,</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>puzzleNumber: 0</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Daily themes configuration</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>const THEMES = {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>museum: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>name: "Museum Mystery",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>description: "A priceless artifact has vanished from the gallery!",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>icon: "🏛️",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>class: "theme-museum",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>crime: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>title: "The Vanished Venus",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>description: "The ancient Venus statue disappeared during the gala. The thief knew the museum's blind spots perfectly."</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>traits: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>access: ['Curator', 'Guard', 'VIP Guest', 'Staff', 'Tourist'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>timing: ['Opening', 'Closing', 'Gala Night', 'Maintenance', 'Off Hours'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>knowledge: ['Expert', 'Scholar', 'Enthusiast', 'Basic', 'None'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>motive: ['Collector', 'Profit', 'Revenge', 'Thrill', 'Unknown'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>behavior: ['Suspicious', 'Nervous', 'Confident', 'Normal', 'Helpful']</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>categories: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>access: 'Museum Role',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>timing: 'Visit Time',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>knowledge: 'Art Knowledge',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>motive: 'Motive Type',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>behavior: 'Behavior'</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>suspects: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>names: ["Dr. Chen", "Marcus Stone", "Isabella Rossi", "James Wright", "Sofia Petrov", "Ahmed Hassan", "Claire Dubois", "Viktor Kowalski", "Luna Park", "Oscar Mendez", "Aria Singh", "Felix Weber", "Naomi Tanaka", "Leo Martinez", "Emma Clarke", "Raj Patel"],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>jobs: ["Curator", "Security Chief", "Art Dealer", "Restoration Expert", "Museum Guide", "Wealthy Patron", "Janitor", "Gift Shop Manager", "Art Student", "Insurance Agent", "Archaeologist", "Museum Director", "Tourist", "Art Critic", "Photographer", "Volunteer"]</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>tech: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>name: "Tech Heist",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>description: "Corporate espionage rocks the tech world!",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>icon: "💻",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>class: "theme-tech",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>crime: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>title: "The Data Breach",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>description: "Top-secret prototype plans were stolen from the server. The hacker bypassed state-of-the-art security."</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>traits: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>access: ['Admin', 'Developer', 'Contractor', 'Intern', 'Visitor'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>timing: ['Workday', 'Weekend', 'Night Shift', 'Remote', 'Holiday'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>knowledge: ['Expert Coder', 'IT Pro', 'Tech Savvy', 'Basic User', 'Novice'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>motive: ['Competition', 'Money', 'Revenge', 'Curiosity', 'Unknown'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>behavior: ['Secretive', 'Stressed', 'Overconfident', 'Normal', 'Too Helpful']</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>categories: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>access: 'System Access',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>timing: 'Access Time',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>knowledge: 'Tech Skills',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>motive: 'Motive',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>behavior: 'Recent Behavior'</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>suspects: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>names: ["Alex Kim", "Sarah Johnson", "Miguel Rodriguez", "Priya Sharma", "Tom Anderson", "Lisa Zhang", "David Brown", "Nina Volkov", "Jack Thompson", "Maya Patel", "Chris Lee", "Emma Davis", "Ryan O'Brien", "Zoe Martin", "Kevin Wu", "Rachel Green"],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>jobs: ["Senior Developer", "Security Analyst", "Project Manager", "Intern", "IT Support", "CEO", "Data Scientist", "QA Tester", "Network Admin", "UX Designer", "Contractor", "Marketing Director", "Junior Dev", "Tech Support", "System Architect", "Consultant"]</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>nature: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>name: "Zoo Escape",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>description: "A rare animal has mysteriously vanished!",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>icon: "🦜",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>class: "theme-nature",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>crime: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>title: "The Missing Macaw",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>description: "Ruby, the rare scarlet macaw, vanished from her enclosure. Someone disabled the security cameras."</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>traits: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>access: ['Keeper', 'Vet', 'Manager', 'Volunteer', 'Visitor'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>timing: ['Dawn', 'Morning', 'Afternoon', 'Evening', 'Night'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>knowledge: ['Expert', 'Experienced', 'Trained', 'Basic', 'None'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>motive: ['Collector', 'Black Market', 'Activism', 'Personal', 'Unknown'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>behavior: ['Agitated', 'Secretive', 'Overly Calm', 'Normal', 'Defensive']</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>categories: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>access: 'Zoo Access',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>timing: 'Last Seen',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>knowledge: 'Animal Knowledge',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>motive: 'Suspected Motive',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>behavior: 'Behavior'</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>suspects: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>names: ["Dr. Wild", "Maria Santos", "Ben Cooper", "Yuki Tanaka", "Carlos Mendez", "Sophie Chen", "Mark Wilson", "Fatima Al-Rashid", "Jake Palmer", "Lily Chang", "Diego Rivera", "Anna Kowalski", "Sam Taylor", "Rosa Martinez", "Neil Patel", "Grace Kim"],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>jobs: ["Head Keeper", "Veterinarian", "Zoo Director", "Bird Specialist", "Night Guard", "Gift Shop Staff", "Volunteer", "Maintenance", "Tour Guide", "Research Student", "Photographer", "Cafe Manager", "Ticket Seller", "Exotic Pet Dealer", "Conservation Officer", "Cleaning Staff"]</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>space: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>name: "Space Station",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>description: "A critical component is missing from the ISS!",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>icon: "🚀",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>class: "theme-space",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>crime: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>title: "The Missing Module",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>description: "A vital research module disappeared from the space station. All crew members are suspects."</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>traits: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>access: ['Commander', 'Engineer', 'Scientist', 'Pilot', 'Specialist'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>timing: ['Alpha Shift', 'Beta Shift', 'Gamma Shift', 'Sleep Period', 'EVA Time'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>knowledge: ['Expert', 'Advanced', 'Trained', 'Basic', 'Limited'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>motive: ['Sabotage', 'Espionage', 'Personal', 'Accident', 'Unknown'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>behavior: ['Anxious', 'Evasive', 'Too Calm', 'Normal', 'Accusatory']</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>categories: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>access: 'Station Role',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>timing: 'Shift Time',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>knowledge: 'Tech Level',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>motive: 'Possible Motive',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>behavior: 'Crew Behavior'</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>suspects: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>names: ["Cdr. Hayes", "Dr. Petrova", "Lt. Chen", "Dr. Singh", "Eng. Martinez", "Sci. Nakamura", "Plt. Johnson", "Spc. Kowalski", "Dr. Anderson", "Eng. Kim", "Med. Santos", "Tech. Brown", "Sci. Dubois", "Plt. O'Neill", "Cdr. Volkov", "Spc. Wright"],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>jobs: ["Mission Commander", "Lead Engineer", "Research Scientist", "Pilot", "Medical Officer", "Systems Specialist", "Payload Specialist", "Flight Engineer", "Botanist", "Physicist", "Communications", "Life Support Tech", "Materials Scientist", "Navigation Officer", "Deputy Commander", "EVA Specialist"]</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>ocean: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>name: "Aquarium Mystery",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>description: "A rare pearl has vanished from the depths!",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>icon: "🐠",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>class: "theme-ocean",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>crime: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>title: "The Pearl of Poseidon",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>description: "The legendary black pearl disappeared from the main tank. The thief knew the feeding schedule."</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>traits: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>access: ['Diver', 'Marine Biologist', 'Manager', 'Maintenance', 'Guest'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>timing: ['Opening', 'Feeding Time', 'Show Time', 'Closing', 'After Hours'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>knowledge: ['Expert Diver', 'Marine Pro', 'Experienced', 'Amateur', 'None'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>motive: ['Greed', 'Collection', 'Revenge', 'Dare', 'Unknown'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>behavior: ['Wet Clothes', 'Nervous', 'Too Interested', 'Normal', 'Avoiding Area']</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>categories: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>access: 'Aquarium Access',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>timing: 'Present When',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>knowledge: 'Diving Skills',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>motive: 'Motive',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>behavior: 'Suspicious Signs'</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>suspects: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>names: ["Captain Blue", "Marina Wells", "Kai Nakamura", "Coral Smith", "Jacques Dubois", "Sandy Beach", "Neptune Jones", "Aqua Chen", "Finn MacLeod", "Pearl Garcia", "Wade Wilson", "Ariel Petrova", "Splash Taylor", "Reef Anderson", "Ocean Park", "Tide Williams"],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>jobs: ["Head Diver", "Marine Biologist", "Aquarium Director", "Tank Cleaner", "Tour Guide", "Gift Shop Owner", "Maintenance Chief", "Dolphin Trainer", "Security Guard", "Cafe Manager", "Volunteer Diver", "Research Student", "Photographer", "VIP Guest", "Night Watchman", "Feeding Specialist"]</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>kitchen: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>name: "Kitchen Caper",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>description: "The secret recipe has been stolen!",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>icon: "👨‍🍳",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>class: "theme-kitchen",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>crime: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>title: "The Secret Sauce",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>description: "Chef's legendary sauce recipe vanished from the safe. Only staff knew the combination."</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>traits: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>access: ['Head Chef', 'Sous Chef', 'Line Cook', 'Server', 'Guest'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>timing: ['Prep Time', 'Lunch Rush', 'Dinner Service', 'Closing', 'After Hours'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>knowledge: ['Master Chef', 'Experienced', 'Skilled', 'Amateur', 'None'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>motive: ['Competition', 'Money', 'Revenge', 'Fame', 'Unknown'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>behavior: ['Burns/Cuts', 'Distracted', 'Too Eager', 'Normal', 'Avoiding Kitchen']</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>categories: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>access: 'Kitchen Access',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>timing: 'Shift Time',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>knowledge: 'Cooking Level',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>motive: 'Motive',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>behavior: 'Recent Signs'</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>suspects: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>names: ["Chef Romano", "Julia Spice", "Gordon Blue", "Pepper Mills", "Basil Green", "Ginger Snap", "Salt Winters", "Olive Branch", "Sage Wisdom", "Rosemary Hill", "Thyme Lord", "Sugar Kane", "Vinny Gar", "Honey Sweet", "Chili Pepper", "Saffron Gold"],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>jobs: ["Executive Chef", "Sous Chef", "Pastry Chef", "Line Cook", "Prep Cook", "Restaurant Manager", "Head Waiter", "Sommelier", "Dishwasher", "Food Critic", "Kitchen Porter", "Bartender", "Host", "Regular Customer", "Delivery Driver", "Health Inspector"]</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>school: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>name: "School Mystery",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>description: "The trophy has disappeared before the big game!",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>icon: "🏫",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>class: "theme-school",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>crime: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>title: "The Missing Trophy",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>description: "The championship trophy vanished from the display case. Someone had a key."</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>traits: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>access: ['Principal', 'Teacher', 'Coach', 'Student', 'Visitor'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>timing: ['Morning', 'Classes', 'Lunch', 'After School', 'Evening'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>knowledge: ['Full Access', 'Staff Access', 'Limited', 'Student', 'None'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>motive: ['Rivalry', 'Prank', 'Revenge', 'Dare', 'Unknown'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>behavior: ['Guilty Look', 'Nervous', 'Too Helpful', 'Normal', 'Absent']</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>categories: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>access: 'School Role',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>timing: 'Time Period',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>knowledge: 'Access Level',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>motive: 'Motive',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>behavior: 'Behavior'</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>suspects: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>names: ["Principal Hart", "Coach Wilson", "Ms. Johnson", "Tyler Brooks", "Ashley Chen", "Mr. Peterson", "Jamie Rodriguez", "Sam Taylor", "Morgan Lee", "Casey Jones", "Jordan Smith", "Alex Brown", "Riley Davis", "Drew Martinez", "Quinn Murphy", "Blake Anderson"],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>jobs: ["Principal", "Vice Principal", "Math Teacher", "Science Teacher", "PE Coach", "Janitor", "Team Captain", "Class President", "Drama Student", "Band Member", "Debate Team", "Security Guard", "Cafeteria Staff", "School Rival", "Parent Volunteer", "Substitute Teacher"]</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>zoo: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>name: "Zoo Mystery",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>description: "The baby panda's favorite toy is missing!",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>icon: "🐼",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>class: "theme-zoo",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>crime: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>title: "Bamboo Bear's Ball",</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>description: "Baby panda Mei-Mei's special enrichment ball vanished. It's worth thousands to collectors."</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>traits: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>access: ['Keeper', 'Vet', 'Staff', 'Volunteer', 'Visitor'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>timing: ['Dawn', 'Morning Feed', 'Midday', 'Evening Feed', 'Night'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>knowledge: ['Expert', 'Experienced', 'Trained', 'Basic', 'None'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>motive: ['Money', 'Collection', 'Mistake', 'Prank', 'Unknown'],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>behavior: ['Scratches', 'Avoiding Pandas', 'Too Interested', 'Normal', 'Nervous']</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>categories: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>access: 'Zoo Role',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>timing: 'Last at Enclosure',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>knowledge: 'Animal Experience',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>motive: 'Motive',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>behavior: 'Suspicious Signs'</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>suspects: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>names: ["Dr. Bamboo", "Keeper Kim", "Vet Singh", "Guide Garcia", "Manager Morris", "Student Lee", "Photographer Pike", "Janitor Jones", "Donor Davis", "Researcher Reed", "Volunteer Vega", "Chef Chang", "Guard Green", "Intern Ito", "Director Drake", "Visitor Vale"],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>jobs: ["Panda Keeper", "Head Veterinarian", "Tour Guide", "Zoo Manager", "Research Student", "Wildlife Photographer", "Maintenance Staff", "Major Donor", "Conservation Scientist", "Gift Shop Staff", "Volunteer", "Zoo Cafe Chef", "Security Officer", "Summer Intern", "Zoo Director", "Annual Pass Holder"]</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Get current theme based on time</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function getCurrentTheme() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const now = new Date();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const seed = Math.floor(now.getTime() / (12 * 60 * 60 * 1000)); // Changes every 12 hours</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const themeKeys = Object.keys(THEMES);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const themeIndex = seed % themeKeys.length;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>return THEMES[themeKeys[themeIndex]];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Get puzzle number</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function getPuzzleNumber() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const startDate = new Date('2024-01-01T00:00:00');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const now = new Date();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const diff = now.getTime() - startDate.getTime();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>return Math.floor(diff / (12 * 60 * 60 * 1000)) + 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Update countdown timer</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function updateCountdown() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const now = new Date();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const hours = now.getHours();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>let nextPuzzle;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if (hours &lt; 12) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>nextPuzzle = new Date(now);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>nextPuzzle.setHours(12, 0, 0, 0);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>} else {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>nextPuzzle = new Date(now);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>nextPuzzle.setDate(nextPuzzle.getDate() + 1);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>nextPuzzle.setHours(0, 0, 0, 0);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const diff = nextPuzzle - now;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const hoursLeft = Math.floor(diff / (1000 * 60 * 60));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const minutesLeft = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const secondsLeft = Math.floor((diff % (1000 * 60)) / 1000);</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('hours').textContent = hoursLeft.toString().padStart(2, '0');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('minutes').textContent = minutesLeft.toString().padStart(2, '0');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('seconds').textContent = secondsLeft.toString().padStart(2, '0');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Apply theme to UI</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function applyTheme(theme) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>document.body.className = theme.class;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>gameState.currentTheme = theme;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Update main menu</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('puzzleNumber').textContent = `Puzzle #${getPuzzleNumber()} • ${theme.icon} ${theme.name}`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('dailyTheme').textContent = theme.icon + ' ' + theme.name;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('themeDescription').textContent = theme.description;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Game configuration (updated for themes)</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>const CONFIG = {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>DIFFICULTY_SETTINGS: {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>easy: {<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>maxGuesses: 8,<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>yellowTraits: 1, <span class="Apple-converted-space">     </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>grayTraits: 1, <span class="Apple-converted-space">       </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>missingTraitsInitial: 3,</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>missingTraits: 0.15,</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>minViableSuspects: 8</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>medium: {<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>maxGuesses: 6,<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>yellowTraits: 1, <span class="Apple-converted-space">     </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>grayTraits: 0, <span class="Apple-converted-space">       </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>missingTraitsInitial: 4,</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>missingTraits: 0.20,</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>minViableSuspects: 10</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>hard: {<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>maxGuesses: 4,<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>yellowTraits: 0, <span class="Apple-converted-space">     </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>grayTraits: 1, <span class="Apple-converted-space">       </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>missingTraitsInitial: 4,</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>missingTraits: 0.25,</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>minViableSuspects: 12</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Utility functions</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function randomValue(arr) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>return arr[Math.floor(Math.random() * arr.length)];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function getFeedback(guessValue, culpritValue, trait) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if (guessValue === undefined || guessValue === null) return 'unknown';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if (culpritValue === undefined || culpritValue === null) return 'unknown';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if (guessValue === culpritValue) return 'correct';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const theme = gameState.currentTheme;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const arr = theme.traits[trait];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if (!arr) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.error('getFeedback: Invalid trait', trait);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>return 'unknown';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const guessPos = arr.indexOf(guessValue);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const culpritPos = arr.indexOf(culpritValue);</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if (guessPos === -1 || culpritPos === -1) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.error('getFeedback: Value not found in trait array', { trait, guessValue, culpritValue });</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>return 'wrong';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if (Math.abs(guessPos - culpritPos) &lt;= 1) return 'close';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>return 'wrong';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function generateSuspects() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const theme = gameState.currentTheme;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const minViable = CONFIG.DIFFICULTY_SETTINGS[gameState.difficulty].minViableSuspects;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const missingRate = CONFIG.DIFFICULTY_SETTINGS[gameState.difficulty].missingTraits;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>let attempts = 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>let bestSetup = null;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>let bestViableCount = 0;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>while (attempts &lt; 50) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>attempts++;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const suspects = [];</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Generate 16 suspects with theme-appropriate names and jobs</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>for (let i = 0; i &lt; 16; i++) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const suspect = {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>name: theme.suspects.names[i],</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>job: theme.suspects.jobs[i]</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>};</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>Object.keys(theme.traits).forEach(trait =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>suspect[trait] = randomValue(theme.traits[trait]);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>suspects.push(suspect);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Select a random culprit</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const culpritIndex = Math.floor(Math.random() * suspects.length);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const culprit = suspects[culpritIndex];</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Generate initial suspect</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const initialSuspect = generateInitialSuspect(culprit);</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Count viable suspects</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>let viableCount = 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const initialFeedback = {};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>Object.keys(theme.traits).forEach(trait =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (initialSuspect[trait] !== undefined) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>initialFeedback[trait] = getFeedback(initialSuspect[trait], culprit[trait], trait);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>suspects.forEach(suspect =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>let canBeValid = true;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>Object.keys(theme.traits).forEach(trait =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const initialValue = initialSuspect[trait];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const suspectValue = suspect[trait];</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (initialValue === undefined) return;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const feedback = initialFeedback[trait];</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (suspectValue !== undefined) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>const arr = theme.traits[trait];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>const initialPos = arr.indexOf(initialValue);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>const suspectPos = arr.indexOf(suspectValue);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>const distance = Math.abs(initialPos - suspectPos);</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (feedback === 'correct' &amp;&amp; suspectValue !== initialValue) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>canBeValid = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else if (feedback === 'close' &amp;&amp; distance !== 1) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>canBeValid = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else if (feedback === 'wrong' &amp;&amp; distance &lt; 2) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>canBeValid = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (canBeValid) viableCount++;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!bestSetup || (viableCount &gt;= minViable &amp;&amp; viableCount &gt; bestViableCount)) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>bestSetup = {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>suspects: suspects,</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>culprit: culprit,</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>initialSuspect: initialSuspect,</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>viableCount: viableCount</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>bestViableCount = viableCount;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (viableCount &gt;= minViable &amp;&amp; viableCount &lt;= minViable + 6) break;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if (bestSetup) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.suspects = bestSetup.suspects;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.culprit = bestSetup.culprit;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.initialSuspect = bestSetup.initialSuspect;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Add missing information to non-culprit suspects</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.suspects.forEach(suspect =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (suspect !== gameState.culprit) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>Object.keys(theme.traits).forEach(trait =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (Math.random() &lt; missingRate) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>suspect[trait] = undefined;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>return gameState.suspects;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function generateInitialSuspect(culprit) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const theme = gameState.currentTheme;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const initial = { name: "Initial Suspect", job: "Unknown" };</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const traits = Object.keys(theme.traits);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const settings = CONFIG.DIFFICULTY_SETTINGS[gameState.difficulty];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const yellowCount = settings.yellowTraits;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const grayCount = settings.grayTraits;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const missingCount = settings.missingTraitsInitial || 0;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const shuffledTraits = [...traits].sort(() =&gt; Math.random() - 0.5);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const yellowTraits = shuffledTraits.slice(0, yellowCount);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const grayTraits = shuffledTraits.slice(yellowCount, yellowCount + grayCount);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const missingTraits = shuffledTraits.slice(yellowCount + grayCount, yellowCount + grayCount + missingCount);</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>traits.forEach(trait =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (missingTraits.includes(trait)) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>initial[trait] = undefined;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const culpritValue = culprit[trait];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const arr = theme.traits[trait];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const culpritPos = arr.indexOf(culpritValue);</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (yellowTraits.includes(trait)) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>let adjacentPos;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (culpritPos === 0) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>adjacentPos = 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (culpritPos === arr.length - 1) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>adjacentPos = arr.length - 2;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>adjacentPos = Math.random() &lt; 0.5 ? culpritPos - 1 : culpritPos + 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>initial[trait] = arr[adjacentPos];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>} else if (grayTraits.includes(trait)) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const validPositions = [];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>for (let i = 0; i &lt; arr.length; i++) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (Math.abs(i - culpritPos) &gt;= 2) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>validPositions.push(i);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (validPositions.length &gt; 0) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>const grayPos = validPositions[Math.floor(Math.random() * validPositions.length)];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>initial[trait] = arr[grayPos];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>initial[trait] = arr[0] === culpritValue ? arr[arr.length - 1] : arr[0];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>return initial;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function startTimer() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>gameState.startTime = Date.now();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>gameState.timerInterval = setInterval(() =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const elapsed = Math.floor((Date.now() - gameState.startTime) / 1000);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const minutes = Math.floor(elapsed / 60);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const seconds = elapsed % 60;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('timerDisplay').textContent =<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>minutes + ':' + seconds.toString().padStart(2, '0');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}, 1000);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function stopTimer() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if (gameState.timerInterval) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>clearInterval(gameState.timerInterval);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.timerInterval = null;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function displayInitialSuspect() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const theme = gameState.currentTheme;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const container = document.createElement('div');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>container.className = 'initial-suspect-section';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>let html = '&lt;h3&gt;Initial Suspect Profile&lt;/h3&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>html += '&lt;p&gt;This person is NOT guilty. Find who shares these patterns:&lt;/p&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>html += '&lt;div class="initial-suspect-traits"&gt;';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>Object.keys(theme.traits).forEach(trait =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const initialValue = gameState.initialSuspect[trait];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const culpritValue = gameState.culprit[trait];</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (initialValue === undefined) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const colorClass = 'gray';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>html += '&lt;div class="initial-trait ' + colorClass + '"&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>html += '&lt;div&gt;&lt;strong&gt;' + theme.categories[trait] + '&lt;/strong&gt;&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>html += '&lt;div style="color: #999; font-style: italic;"&gt;?&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>html += '&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const feedback = getFeedback(initialValue, culpritValue, trait);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const colorClass = feedback === 'correct' ? 'green' :<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                 </span>feedback === 'close' ? 'yellow' : 'gray';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>html += '&lt;div class="initial-trait ' + colorClass + '"&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>html += '&lt;div&gt;&lt;strong&gt;' + theme.categories[trait] + '&lt;/strong&gt;&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>html += '&lt;div&gt;' + initialValue + '&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>html += '&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>html += '&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>html += '&lt;div class="color-legend"&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>html += '&lt;span class="legend-item"&gt;&lt;span class="color-box green"&gt;&lt;/span&gt; Exact match&lt;/span&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>html += '&lt;span class="legend-item"&gt;&lt;span class="color-box yellow"&gt;&lt;/span&gt; Close match&lt;/span&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>html += '&lt;span class="legend-item"&gt;&lt;span class="color-box gray"&gt;&lt;/span&gt; Different&lt;/span&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>html += '&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>container.innerHTML = html;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>document.querySelector('.crime-box').after(container);</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>displayTraitGuide();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function displayTraitGuide() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const theme = gameState.currentTheme;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const container = document.createElement('div');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>container.className = 'trait-guide-section';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>let html = '&lt;h3&gt;Trait Value Reference&lt;/h3&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>html += '&lt;p style="color: var(--primary); margin-bottom: 20px;"&gt;Adjacent values (connected by lines) are considered "close" matches&lt;/p&gt;';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>Object.keys(theme.traits).forEach(trait =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>html += '&lt;div class="trait-guide-item"&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>html += '&lt;div class="trait-guide-title"&gt;' + theme.categories[trait] + '&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>html += '&lt;div class="trait-spectrum"&gt;';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const values = theme.traits[trait];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>values.forEach((value, index) =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>html += '&lt;div class="trait-value"&gt;' + value + '&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (index &lt; values.length - 1) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const leftPercent = (index / (values.length - 1)) * 100;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const rightPercent = ((index + 1) / (values.length - 1)) * 100;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const midPercent = (leftPercent + rightPercent) / 2;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>html += '&lt;span class="trait-arrow" style="left: ' + midPercent + '%"&gt;↔&lt;/span&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>html += '&lt;/div&gt;&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>container.innerHTML = html;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const initialSuspectSection = document.querySelector('.initial-suspect-section');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if (initialSuspectSection &amp;&amp; initialSuspectSection.nextSibling) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>initialSuspectSection.parentNode.insertBefore(container, initialSuspectSection.nextSibling);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>} else if (initialSuspectSection) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>initialSuspectSection.parentNode.appendChild(container);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function displaySuspects() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const theme = gameState.currentTheme;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const grid = document.getElementById('suspectsGrid');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if (!grid) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.error('suspectsGrid element not found');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>grid.innerHTML = '';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>gameState.suspects.forEach((suspect, index) =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const card = document.createElement('div');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>card.className = 'suspect-card';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>card.style.animationDelay = (index * 0.05) + 's';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (gameState.guesses.some(g =&gt; g.name === suspect.name)) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>card.classList.add('disabled');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (gameState.eliminatedSuspects.has(suspect.name)) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>card.classList.add('eliminated');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>let traitsHTML = '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>Object.keys(theme.traits).forEach(trait =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const value = suspect[trait];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const displayValue = value !== undefined ? value : '?';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const valueClass = value === undefined ? 'style="color: #999; font-style: italic;"' : '';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>traitsHTML += '&lt;div class="trait-item"&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>traitsHTML += '&lt;span&gt;' + theme.categories[trait] + ':&lt;/span&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>traitsHTML += '&lt;span ' + valueClass + '&gt;' + displayValue + '&lt;/span&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>traitsHTML += '&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>let innerHTML = '&lt;div class="suspect-name"&gt;' + suspect.name + '&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>innerHTML += '&lt;div class="suspect-job"&gt;' + suspect.job + '&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>innerHTML += '&lt;div class="suspect-traits"&gt;' + traitsHTML + '&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>innerHTML += '&lt;div class="suspect-actions"&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>innerHTML += '&lt;button class="suspect-button accuse-btn" data-index="' + index + '"&gt;Accuse&lt;/button&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>innerHTML += '&lt;button class="suspect-button exonerate-btn" data-name="' + suspect.name + '"&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>innerHTML += gameState.eliminatedSuspects.has(suspect.name) ? 'Restore' : 'Exonerate';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>innerHTML += '&lt;/button&gt;&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>card.innerHTML = innerHTML;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>grid.appendChild(card);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Add event listeners after all cards are created</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>document.querySelectorAll('.accuse-btn').forEach(btn =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>btn.addEventListener('click', function() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>makeGuess(parseInt(this.dataset.index));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>document.querySelectorAll('.exonerate-btn').forEach(btn =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>btn.addEventListener('click', function() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>toggleElimination(this.dataset.name);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function displayGuess(suspect) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const theme = gameState.currentTheme;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const board = document.getElementById('gameBoard');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const row = document.createElement('div');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>row.className = 'guess-row';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>let feedbackHTML = '&lt;div class="guess-feedback"&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>Object.keys(theme.traits).forEach((trait, index) =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const feedback = getFeedback(suspect[trait], gameState.culprit[trait], trait);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>feedbackHTML += '&lt;div class="trait-feedback ' + feedback + '" style="animation-delay: ' + (index * 0.1) + 's"&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>feedbackHTML += '&lt;div&gt;' + theme.categories[trait] + '&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>feedbackHTML += '&lt;div&gt;' + suspect[trait] + '&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>feedbackHTML += '&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>feedbackHTML += '&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>let html = '&lt;div&gt;&lt;strong&gt;' + suspect.name + '&lt;/strong&gt;&lt;br&gt;' + suspect.job + '&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>html += feedbackHTML;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>row.innerHTML = html;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>board.appendChild(row);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function updateGuessCounter() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const max = CONFIG.DIFFICULTY_SETTINGS[gameState.difficulty].maxGuesses;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('guessDisplay').textContent = gameState.currentGuess + '/' + max;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function makeGuess(index) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if (gameState.gameOver || index &lt; 0 || index &gt;= gameState.suspects.length) return;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const suspect = gameState.suspects[index];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if (gameState.guesses.some(g =&gt; g.name === suspect.name)) return;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>gameState.guesses.push(suspect);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>gameState.currentGuess++;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>displayGuess(suspect);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>updateGuessCounter();</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if (suspect.name === gameState.culprit.name) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>endGame(true);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>} else if (gameState.currentGuess &gt;= CONFIG.DIFFICULTY_SETTINGS[gameState.difficulty].maxGuesses) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>endGame(false);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>displaySuspects();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function toggleElimination(name) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if (gameState.eliminatedSuspects.has(name)) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.eliminatedSuspects.delete(name);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>} else {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.eliminatedSuspects.add(name);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>displaySuspects();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function endGame(won) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>gameState.gameOver = true;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>gameState.won = won;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>stopTimer();</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const gameOverDiv = document.getElementById('gameOver');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const title = document.getElementById('gameOverTitle');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const message = document.getElementById('gameOverMessage');</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if (won) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameOverDiv.className = 'game-over won';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>title.textContent = 'GUILTY!';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>let performanceMessage = '';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (gameState.currentGuess &lt; gameState.perfectScore) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>performanceMessage = '&lt;div style="color: #ef4444; font-size: 1.3em; margin-top: 10px;"&gt;🎲 YOU GOT LUCKY! 🎲&lt;br&gt;Pure luck beat logic this time!&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>performanceMessage += '&lt;div style="color: var(--text-muted); margin-top: 10px;"&gt;Through logical deduction alone, this puzzle required at least ' + gameState.perfectScore + ' guesses to solve.&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (gameState.currentGuess === gameState.perfectScore) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>performanceMessage = '&lt;div style="color: #22c55e; font-size: 1.2em; margin-top: 10px;"&gt;🏆 PERFECT DETECTIVE! 🏆&lt;br&gt;You achieved the optimal solution!&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (gameState.currentGuess &lt;= gameState.optimalScore) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>performanceMessage = '&lt;div style="color: var(--primary); font-size: 1.1em; margin-top: 10px;"&gt;⭐ Excellent deduction! Near-perfect play!&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (gameState.currentGuess &gt; gameState.perfectScore + 2) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const extraGuesses = gameState.currentGuess - gameState.perfectScore;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>performanceMessage = '&lt;div style="color: #f59e0b; margin-top: 10px;"&gt;You could have solved this ' + extraGuesses + ' guess' + (extraGuesses &gt; 1 ? 'es' : '') + ' faster with optimal play.&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const elapsed = Math.floor((Date.now() - gameState.startTime) / 1000);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const minutes = Math.floor(elapsed / 60);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const seconds = elapsed % 60;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const timeStr = minutes + ':' + seconds.toString().padStart(2, '0');</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>message.innerHTML = '&lt;div style="font-size: 1.2em; margin-bottom: 20px;"&gt;You found the culprit in &lt;strong&gt;' + gameState.currentGuess + ' guesses&lt;/strong&gt;!&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>message.innerHTML += '&lt;div style="color: var(--text-secondary); margin-bottom: 10px;"&gt;Time: ' + timeStr + '&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>message.innerHTML += performanceMessage;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Share button could go here</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>} else {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameOverDiv.className = 'game-over lost';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>title.textContent = 'ESCAPED!';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>let hint = '&lt;div style="margin-top: 15px; color: var(--text-muted);"&gt;This puzzle was solvable in ' + gameState.perfectScore + ' guesses with perfect play.&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>message.innerHTML = '&lt;div style="font-size: 1.2em;"&gt;The culprit was &lt;strong&gt;' + gameState.culprit.name + '&lt;/strong&gt;&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>message.innerHTML += '&lt;div style="color: var(--text-secondary); margin: 10px 0;"&gt;(' + gameState.culprit.job + ')&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>message.innerHTML += hint;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>gameOverDiv.style.display = 'block';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('suspectsSection').style.display = 'none';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function initGame() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>try {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('initGame: Starting...');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Current theme:', gameState.currentTheme);</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Reset game state</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.culprit = null;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.initialSuspect = null;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.suspects = [];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.guesses = [];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.currentGuess = 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.gameOver = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.won = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.eliminatedSuspects = new Set();</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Ensure theme is set</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!gameState.currentTheme) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('Theme not set in initGame, setting now');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>gameState.currentTheme = getCurrentTheme();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const theme = gameState.currentTheme;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Using theme:', theme.name);</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Generate suspects</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Generating suspects...');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.suspects = generateSuspects();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Suspects generated:', gameState.suspects.length);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Culprit:', gameState.culprit);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Initial suspect:', gameState.initialSuspect);</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!gameState.culprit) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>throw new Error('Culprit was not set during suspect generation');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!gameState.initialSuspect) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>throw new Error('Initial suspect was not set during generation');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const viableSuspects = countViableSuspects();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.perfectScore = Math.ceil(Math.log2(viableSuspects)) || 3;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.optimalScore = gameState.perfectScore + 1;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Setting crime details...');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('crimeTitle').textContent = theme.crime.title;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('crimeDescription').textContent = theme.crime.description;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('viableDisplay').textContent = viableSuspects;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Displaying initial suspect...');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>displayInitialSuspect();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Displaying suspects grid...');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>displaySuspects();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Updating guess counter...');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>updateGuessCounter();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Starting timer...');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>startTimer();</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Game initialization complete');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>} catch (error) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.error('Error in initGame:', error);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.error('Stack trace:', error.stack);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>alert('Error initializing game: ' + error.message);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function countViableSuspects() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const theme = gameState.currentTheme;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const initialFeedback = {};</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>Object.keys(theme.traits).forEach(trait =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (gameState.initialSuspect[trait] !== undefined &amp;&amp; gameState.culprit[trait] !== undefined) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>initialFeedback[trait] = getFeedback(gameState.initialSuspect[trait], gameState.culprit[trait], trait);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>let viableCount = 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>gameState.suspects.forEach(suspect =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>let canBeValid = true;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>Object.keys(theme.traits).forEach(trait =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const initialValue = gameState.initialSuspect[trait];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const suspectValue = suspect[trait];</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (initialValue === undefined || suspectValue === undefined) return;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const feedback = initialFeedback[trait];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const arr = theme.traits[trait];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const initialPos = arr.indexOf(initialValue);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const suspectPos = arr.indexOf(suspectValue);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const distance = Math.abs(initialPos - suspectPos);</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (feedback === 'correct' &amp;&amp; suspectValue !== initialValue) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>canBeValid = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>} else if (feedback === 'close' &amp;&amp; distance !== 1) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>canBeValid = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>} else if (feedback === 'wrong' &amp;&amp; distance &lt; 2) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>canBeValid = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (canBeValid) viableCount++;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>return viableCount || 8;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Developer functions</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>window.runAIAnalysis = function() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const btn = event.target;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>btn.disabled = true;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>btn.textContent = 'Running...';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const resultsDiv = document.getElementById('aiResults');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>resultsDiv.textContent = 'Running AI analysis on current theme...\n';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>setTimeout(function() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const results = runAISimulation(200);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>let output = 'AI ANALYSIS RESULTS (' + results.totalGames + ' games)\n';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>output += '========================================\n\n';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>output += 'Theme: ' + gameState.currentTheme.name + '\n';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>output += 'Average guesses to solve: ' + results.avgGuesses.toFixed(2) + '\n';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>output += 'Win rate: ' + results.winRate + '%\n';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>output += 'Perfect play rate: ' + results.perfectRate + '%\n';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>output += 'Average viable suspects: ' + results.avgViableSuspects.toFixed(1) + '\n\n';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>output += 'ASSESSMENT:\n';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (results.avgGuesses &gt;= 3.0 &amp;&amp; results.avgGuesses &lt;= 4.0) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>output += '✓ WELL CALIBRATED: ' + results.avgGuesses.toFixed(2) + ' avg guesses!\n';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>output += '<span class="Apple-converted-space">  </span>Target range: 3.0-4.0 guesses\n';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>output += '✗ Needs adjustment: ' + results.avgGuesses.toFixed(2) + ' avg guesses\n';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>output += '<span class="Apple-converted-space">  </span>Target range: 3.0-4.0 guesses\n';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>resultsDiv.textContent = output;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>btn.disabled = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>btn.textContent = 'Run AI Analysis (200 games)';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}, 100);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>window.runQuickTest = function() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const btn = event.target;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>btn.disabled = true;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>btn.textContent = 'Running...';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const resultsDiv = document.getElementById('aiResults');</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const results = runAISimulation(20);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>let output = 'QUICK TEST (' + results.totalGames + ' games)\n';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>output += 'Theme: ' + gameState.currentTheme.name + '\n';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>output += 'Average guesses: ' + results.avgGuesses.toFixed(2) + '\n';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>output += 'Win rate: ' + results.winRate + '%\n';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>output += 'Viable suspects: ' + results.avgViableSuspects.toFixed(1) + '\n';</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>resultsDiv.textContent = output;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>btn.disabled = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>btn.textContent = 'Quick Test (20 games)';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>window.showCulprit = function() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const culprit = gameState.culprit;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const theme = gameState.currentTheme;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if (culprit) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const resultsDiv = document.getElementById('aiResults');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>let output = 'CURRENT CULPRIT:\n';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>output += 'Name: ' + culprit.name + '\n';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>output += 'Job: ' + culprit.job + '\n';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>output += '==============================\n';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>Object.keys(theme.categories).forEach(trait =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>output += theme.categories[trait] + ': ' + culprit[trait] + '\n';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>resultsDiv.textContent = output;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>window.forceNewTheme = function() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const themeKeys = Object.keys(THEMES);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const currentIndex = themeKeys.indexOf(Object.keys(THEMES).find(key =&gt; THEMES[key] === gameState.currentTheme));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const nextIndex = (currentIndex + 1) % themeKeys.length;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const newTheme = THEMES[themeKeys[nextIndex]];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>applyTheme(newTheme);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('aiResults').textContent = 'Forced theme change to: ' + newTheme.name;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function runAISimulation(numGames) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>let totalGuesses = 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>let wins = 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>let perfectGames = 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>let viableSuspectsTotal = 0;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>for (let i = 0; i &lt; numGames; i++) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const savedDifficulty = gameState.difficulty;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const savedTheme = gameState.currentTheme;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.suspects = [];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.culprit = null;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.initialSuspect = null;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const suspects = generateSuspects();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const culprit = gameState.culprit;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const initial = gameState.initialSuspect;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.difficulty = savedDifficulty;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>gameState.currentTheme = savedTheme;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>let viableCount = 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const initialFeedback = {};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>Object.keys(savedTheme.traits).forEach(trait =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (initial[trait] !== undefined &amp;&amp; culprit[trait] !== undefined) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>initialFeedback[trait] = getFeedback(initial[trait], culprit[trait], trait);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>suspects.forEach(suspect =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>let canBeValid = true;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>Object.keys(savedTheme.traits).forEach(trait =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (suspect[trait] !== undefined &amp;&amp; initial[trait] !== undefined) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>const arr = savedTheme.traits[trait];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>const initialPos = arr.indexOf(initial[trait]);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>const suspectPos = arr.indexOf(suspect[trait]);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>const distance = Math.abs(initialPos - suspectPos);</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>const feedback = initialFeedback[trait];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (feedback === 'correct' &amp;&amp; suspect[trait] !== initial[trait]) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>canBeValid = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else if (feedback === 'close' &amp;&amp; distance !== 1) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>canBeValid = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else if (feedback === 'wrong' &amp;&amp; distance &lt; 2) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>canBeValid = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (canBeValid) viableCount++;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>viableSuspectsTotal += viableCount;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const perfectScore = Math.ceil(Math.log2(viableCount));</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const guesses = [];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>let found = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const maxGuesses = CONFIG.DIFFICULTY_SETTINGS[gameState.difficulty].maxGuesses;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>while (guesses.length &lt; maxGuesses &amp;&amp; !found) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const remaining = suspects.filter(s =&gt; !guesses.some(g =&gt; g.name === s.name));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (remaining.length === 0) break;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>let best = null;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (guesses.length === 0) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// First guess: find suspect that best matches initial pattern</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>remaining.forEach(suspect =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>let canBeValid = true;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>Object.keys(savedTheme.traits).forEach(trait =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>if (initial[trait] !== undefined &amp;&amp; suspect[trait] !== undefined) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>const feedback = initialFeedback[trait];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>const arr = savedTheme.traits[trait];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>const initialPos = arr.indexOf(initial[trait]);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>const suspectPos = arr.indexOf(suspect[trait]);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>const distance = Math.abs(initialPos - suspectPos);</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>if (feedback === 'correct' &amp;&amp; suspect[trait] !== initial[trait]) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>canBeValid = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>} else if (feedback === 'close' &amp;&amp; distance !== 1) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>canBeValid = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>} else if (feedback === 'wrong' &amp;&amp; distance &lt; 2) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>canBeValid = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>});</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (canBeValid &amp;&amp; !best) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>best = suspect;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// Use previous feedback to eliminate</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>remaining.forEach(suspect =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>let canBeValid = true;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// Check against all constraints</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>guesses.forEach(previousGuess =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>Object.keys(savedTheme.traits).forEach(trait =&gt; {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>if (previousGuess[trait] !== undefined &amp;&amp; suspect[trait] !== undefined) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>const previousFeedback = getFeedback(previousGuess[trait], culprit[trait], trait);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>const feedbackIfSuspect = getFeedback(previousGuess[trait], suspect[trait], trait);</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>if (previousFeedback !== feedbackIfSuspect) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>canBeValid = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>});</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (canBeValid &amp;&amp; !best) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>best = suspect;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (best) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>guesses.push(best);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (best.name === culprit.name) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>found = true;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>wins++;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (guesses.length &lt;= perfectScore) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>perfectGames++;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>totalGuesses += guesses.length;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>return {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>totalGames: numGames,</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>avgGuesses: totalGuesses / numGames,</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>winRate: Math.round(wins / numGames * 100),</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>perfectRate: Math.round(perfectGames / numGames * 100),</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>avgViableSuspects: viableSuspectsTotal / numGames</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Keyboard shortcut</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>document.addEventListener('keydown', function(e) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if (e.ctrlKey &amp;&amp; e.shiftKey &amp;&amp; e.key === 'D') {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const devTools = document.getElementById('devTools');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>devTools.style.display = devTools.style.display === 'none' ? 'block' : 'none';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Initialize on DOM load</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>document.addEventListener('DOMContentLoaded', function() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Set up theme</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const theme = getCurrentTheme();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>applyTheme(theme);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>gameState.puzzleNumber = getPuzzleNumber();</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Start countdown timer</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>updateCountdown();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>setInterval(updateCountdown, 1000);</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('start-game').addEventListener('click', function() {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>try {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('Start button clicked');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>gameState.difficulty = document.getElementById('difficulty-select').value;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('Difficulty set to:', gameState.difficulty);</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Ensure theme is set</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!gameState.currentTheme) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('No theme set, applying theme');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>applyTheme(getCurrentTheme());</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('main-menu').style.display = 'none';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('game-screen').style.display = 'block';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('Starting game initialization...');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>initGame();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>} catch (error) {</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>console.error('Error starting game:', error);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>alert('Error starting game: ' + error.message);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><br></p>
<p class="p1">})();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;/body&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
